<ng-container *ngIf="card">
  <div class="card">
    <div class="card-header">
      {{ title }}
    </div>
    <div class="card-body">
      <template [ngTemplateOutlet]="reportBody"></template>
    </div>
  </div>
</ng-container>
<ng-container *ngIf="!card">
  <template [ngTemplateOutlet]="reportBody"></template>
</ng-container>

<ng-template #reportBody>
  <nz-collapse>
    <ng-container *ngFor="let group of reports|keyvalue:no_sort_order">
      <nz-collapse-panel *ngIf="group.value['show_in_' + this.mode + '_list']" [nzHeader]="group.value['title']">
        <ul class="reports-list">
          <ng-container *ngFor="let report of group.value['reports']|keyvalue:no_sort_order">
            <li *ngIf="report.value['show_in_' + this.mode + '_list']">
              <a [routerLink]="" (click)="show_modal_report(group.key, report.key, report.value)"><i
                class="fas fa-file-download"></i> {{ report.value['title'] }}</a>
            </li>
          </ng-container>
        </ul>
      </nz-collapse-panel>
    </ng-container>
  </nz-collapse>
</ng-template>
