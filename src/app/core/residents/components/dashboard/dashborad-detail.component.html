<div class="card">
  <div class="card-header">
    {{ facilityName }} Dashboard Table
  </div>
  <div class="card-body">
    <div class="d-flex justify-content-center">
      <nz-empty *ngIf="!dashboardData" class="ant-empty-normal" [nzNotFoundImage]="defaultSvg"></nz-empty>
      <div *ngIf="dashboardData" class="table-responsive">
        <table class="table table-sm table-bordered">
          <tr>
            <th>Occupancy Tracker</th>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <th class="text-center">{{item.key}}</th>
            </ng-container>
          </tr>
          <tr>
            <td>Total Capacity</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.total_capacity}}</td>
            </ng-container>
          </tr>
          <tr>
            <td>Break Even</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.break_even}}</td>
            </ng-container>
          </tr>
          <tr>
            <td>Starting Occ</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.starting_occupancy}}</td>
            </ng-container>
          </tr>
          <tr>
            <td>Move Ins (Respite)</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.move_ins_respite}}</td>
            </ng-container>
          </tr>
          <tr>
            <td>Move Ins (Long Term)</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.move_ins_long_term}}</td>
            </ng-container>
          </tr>
          <tr>
            <td>Move Outs (Respite)</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.move_outs_respite}}</td>
            </ng-container>
          </tr>
          <tr>
            <td>Move Outs (Long Term)</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.move_outs_long_term}}</td>
            </ng-container>
          </tr>
          <tr>
            <td>Ending Occ</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center" [ngStyle]="FacilityDashboard.getEndingStyle(item.value)">{{item.value.ending_occupancy}}</td>
            </ng-container>
          </tr>
          <tr>
            <td>Hot Leads</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.hot_leads}}</td>
            </ng-container>
          </tr>
          <tr>
            <td>Notice to Vacate</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.notice_to_vacate}}</td>
            </ng-container>
          </tr>
          <tr>
            <td>Projected Near Term Occupancy</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.projected_near_term_occupancy}}</td>
            </ng-container>
          </tr>
          <tr>
            <td [colSpan]="1 + (dashboardData.data|keys).length">&nbsp;</td>
          </tr>
          <tr>
            <td>Tours per month</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.tours_per_month}}</td>
            </ng-container>
          </tr>
          <tr class="table-success">
            <td>Total Inquiries per month</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.total_inquiries}}</td>
            </ng-container>
          </tr>
          <tr>
            <td>Qualified Inquiries per month</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.qualified_inquiries}}</td>
            </ng-container>
          </tr>
          <tr class="table-warning">
            <td>Outreach per month</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">{{item.value.outreach_per_month}}</td>
            </ng-container>
          </tr>
<!--          <tr>-->
<!--            <td>Events per month</td>-->
<!--            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">-->
<!--              <td class="text-center">{{item.value.events_per_month}}</td>-->
<!--            </ng-container>-->
<!--          </tr>-->
          <tr>
            <td>Average Room Rent</td>
            <ng-container *ngFor="let item of dashboardData.data | keyvalue:no_sort_order">
              <td class="text-center">&#x24;{{item.value.average_room_rent}}</td>
            </ng-container>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
<div class="card">
  <div class="card-header">
    {{ facilityName }} Dashboard Chart
  </div>
  <div class="card-body">
    <nz-empty *ngIf="!lineChartData" class="ant-empty-normal" [nzNotFoundImage]="defaultSvg"></nz-empty>
    <div *ngIf="lineChartData" class="d-flex justify-content-center">
      <canvas ngChartjs
              [datasets]="lineChartData"
              [labels]="lineChartLabels"
              [options]="{ responsive: true }"
              [legend]="true"
              [chartType]="'line'">
      </canvas>
    </div>
  </div>
</div>
